@namespace
class SpriteKind:
    Npc = SpriteKind.create()
    Result = SpriteKind.create()
    Key = SpriteKind.create()
    Cogwheel = SpriteKind.create()
    Shark = SpriteKind.create()
    Platform = SpriteKind.create()

def on_overlap_tile(sprite, location):
    mySprite.set_velocity(0, -60)
    info.change_life_by(-1)
scene.on_overlap_tile(SpriteKind.player,
    assets.tile("""
        myTile65
        """),
    on_overlap_tile)

# Pickup logic: Press B while overlapping a Result sprite

def on_b_pressed():
    global heldItem, isHolding, canPick, canShoot, projectile
    if level == 1:
        if isHolding == False and canPick == True:
            # Check all sprites of kind Result
            for sprite2 in sprites.all_of_kind(SpriteKind.Result):
                if mySprite.overlaps_with(sprite2):
                    heldItem = sprite2
                    isHolding = True
                    canPick = False
                    break
        elif isHolding == True and canPick == False and mySprite.vy == 0 and mySprite.tile_kind_at(TileDirection.RIGHT, assets.tile("""
            myTile35
            """)) == False:
            # Drop logic: Press B again when holding
            heldItem.set_position(mySprite.x - 10, mySprite.y)
            # Drop at player's feet
            isHolding = False
            pause(200)
            canPick = True
    elif level == 2:
        if mySprite.vx >= 0 and canShoot == 0:
            canShoot = 1
            projectile = sprites.create_projectile_from_sprite(img("""
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . 1 . . . . . . . . 1 1 . . . .
                    . 1 1 . . . . . . 1 1 1 1 . . .
                    . 1 1 f f f f f f f 1 1 1 1 . .
                    . 1 1 . . . . . . 1 1 1 1 . . .
                    . 1 . . . . . . . . 1 1 . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    """),
                mySprite,
                80,
                0)
            projectile.set_flag(SpriteFlag.GHOST_THROUGH_TILES, True)
            projectile.set_flag(SpriteFlag.GHOST_THROUGH_WALLS, True)
            pause(500)
            canShoot = 0
        elif mySprite.vx < 0 and canShoot == 0:
            canShoot = 1
            projectile = sprites.create_projectile_from_sprite(img("""
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . 1 1 . . . . . . . . 1 .
                    . . . 1 1 1 1 . . . . . . 1 1 .
                    . . 1 1 1 1 f f f f f f f 1 1 .
                    . . . 1 1 1 1 . . . . . . 1 1 .
                    . . . . 1 1 . . . . . . . . 1 .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    """),
                mySprite,
                -80,
                0)
            projectile.set_flag(SpriteFlag.GHOST_THROUGH_TILES, True)
            projectile.set_flag(SpriteFlag.GHOST_THROUGH_WALLS, True)
            pause(500)
            canShoot = 0
controller.B.on_event(ControllerButtonEvent.PRESSED, on_b_pressed)

def createLevel():
    global key1, Results1, Results2, Results3, Allresult1, Allresult2, Allresult3, result1, result1tiles, result2, resulttiles2, result3, resulttiles3, key2, rightPlat, wrongPlat, platformgood, platformBad, apple
    if level == 1:
        scene.set_background_color(14)
        tiles.set_current_tilemap(tilemap("""
            level1
            """))
        tiles.place_on_tile(mySprite, tiles.get_tile_location(0, 12))
        music.play(music.create_song(hex("""
                00780004080200
                """)),
            music.PlaybackMode.LOOPING_IN_BACKGROUND)
        key1 = sprites.create(img("""
                . . . . . . 5 5 5 5 5 . . . . .
                . . . . . 5 5 f f 5 5 5 . . . .
                . . . . 5 5 5 5 f 5 5 5 5 . . .
                . . . . 5 5 5 5 f 5 5 5 5 . . .
                . . . . . 5 5 f f f 5 5 . . . .
                . . . . . . 5 5 5 5 5 . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . 5 5 5 5 5 5 . . . . . .
                . . . . 5 5 5 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . . 5 5 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . 5 5 5 5 5 5 5 . . . . . .
                . . . 5 5 5 5 5 5 5 . . . . . .
                """),
            SpriteKind.Key)
        tiles.place_on_tile(key1, tiles.get_tile_location(73, 12))
        animation.run_image_animation(key1,
            [img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f 5 5 5 . . . .
                    . . . . 5 5 5 5 f 5 5 5 5 . . .
                    . . . . 5 5 5 5 f 5 5 5 5 . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . 5 5 5 5 5 5 5 . . . . . .
                    . . . 5 5 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f 5 5 5 . . . .
                    . . . . 5 5 5 5 f 5 5 5 5 . . .
                    . . . . 5 5 5 5 f 5 5 5 5 . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 5 . .
                    . . . . . . . 5 5 5 5 5 5 5 . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 5 f 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 5 f 5 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    """)],
            100,
            True)
        for index in range(13):
            tiles.set_wall_at(tiles.get_tile_location(30, index), True)
        for index2 in range(13):
            tiles.set_wall_at(tiles.get_tile_location(50, index2), True)
        for index3 in range(13):
            tiles.set_wall_at(tiles.get_tile_location(70, index3), True)
        Results1 = [assets.tile("""
                myTile11
                """),
            assets.tile("""
                myTile12
                """),
            assets.tile("""
                myTile13
                """),
            assets.tile("""
                myTile22
                """)]
        Results2 = [assets.tile("""
                myTile25
                """),
            assets.tile("""
                myTile26
                """),
            assets.tile("""
                myTile28
                """),
            assets.tile("""
                myTile24
                """)]
        Results3 = [assets.tile("""
                myTile30
                """),
            assets.tile("""
                myTile31
                """),
            assets.tile("""
                myTile32
                """),
            assets.tile("""
                myTile33
                """)]
        Allresult1 = []
        Allresult2 = []
        Allresult3 = []
        for index1 in range(4):
            result1 = sprites.create(Results1[index1], SpriteKind.Result)
            Allresult1.unshift(result1)
            result1tiles = tiles.get_tiles_by_type(assets.tile("""
                myTile23
                """))
            tiles.place_on_tile(result1, result1tiles[index1])
        for index12 in range(4):
            result2 = sprites.create(Results2[index12], SpriteKind.Result)
            Allresult2.unshift(result2)
            resulttiles2 = tiles.get_tiles_by_type(assets.tile("""
                myTile29
                """))
            tiles.place_on_tile(result2, resulttiles2[index12])
        for index13 in range(4):
            result3 = sprites.create(Results3[index13], SpriteKind.Result)
            Allresult3.unshift(result3)
            resulttiles3 = tiles.get_tiles_by_type(assets.tile("""
                myTile34
                """))
            tiles.place_on_tile(result3, resulttiles3[index13])
        for value in tiles.get_tiles_by_type(assets.tile("""
            myTile23
            """)):
            tiles.set_tile_at(value, assets.tile("""
                transparency16
                """))
        for value2 in tiles.get_tiles_by_type(assets.tile("""
            myTile29
            """)):
            tiles.set_tile_at(value2, assets.tile("""
                transparency16
                """))
        for value3 in tiles.get_tiles_by_type(assets.tile("""
            myTile34
            """)):
            tiles.set_tile_at(value3, assets.tile("""
                transparency16
                """))
    elif level == 2:
        scene.set_background_color(8)
        tiles.set_current_tilemap(tilemap("""
            level2
            """))
        music.play(music.create_song(hex("""
                00780004080200
                """)),
            music.PlaybackMode.LOOPING_IN_BACKGROUND)
        mySprite.vy = 15
        mySprite.ay = 25
        mySprite.set_image(img("""
            . . . f f f f f f f f . . . . .
            . . f d d d d d d d d f . . . .
            . f d d d d d d d d d d f . . .
            f d d d d d d d d d d d d f . .
            f f d d d d d d f f f d d f . .
            . f d d d d d d f 1 f f f . . .
            . f d d d d d d f 8 f d f . . .
            . f d d d d d d f f d d f . . .
            . . f d d d d d d d f f . . . .
            . . . f d d d d d f d d d . . .
            . . . f f f f f f f f . d . . .
            . . . . d f 4 4 f d d d d . . .
            . 4 4 f f f f f f f f 4 4 . . .
            . . . f f f 5 5 f f f . . . . .
            . f f f f f f f f f f f f . . .
            . f c c c f . . f c c c f . . .
            """))
        key2 = sprites.create(img("""
                . . . . . . 5 5 5 5 5 . . . . .
                . . . . . 5 5 f f f 5 5 . . . .
                . . . . 5 5 5 5 5 f 5 5 5 . . .
                . . . . 5 5 5 f f f 5 5 5 . . .
                . . . . . 5 5 f 5 5 5 5 . . . .
                . . . . . . 5 f f f 5 . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . 5 5 5 5 5 5 . . . . . .
                . . . . 5 5 5 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . . . 5 5 5 5 5 . . . . . .
                . . . . . . . 5 5 5 . . . . . .
                . . . 5 5 5 5 5 5 5 . . . . . .
                . . . 5 5 5 5 5 5 5 . . . . . .
                """),
            SpriteKind.Key)
        tiles.place_on_tile(key2, tiles.get_tile_location(73, 13))
        animation.run_image_animation(key2,
            [img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . 5 5 5 5 5 f 5 5 5 . . .
                    . . . . 5 5 5 f f f 5 5 5 . . .
                    . . . . . 5 5 f 5 5 5 5 . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . 5 5 5 5 5 5 5 . . . . . .
                    . . . 5 5 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 5 5 f 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 f 5 5 5 5 . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 f 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 f 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 f 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 f 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 5 5 f 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 f 5 5 5 5 . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . 5 5 5 5 5 f 5 5 5 . . .
                    . . . . 5 5 5 f f f 5 5 5 . . .
                    . . . . . 5 5 f 5 5 5 5 . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 5 . .
                    . . . . . . . 5 5 5 5 5 5 5 . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 5 5 f 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 f 5 5 5 5 . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    . . . . . . . 5 5 5 5 5 5 . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 f 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 f 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    . . . . . . . 5 5 5 5 5 . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    . . . . . . . 5 5 5 5 . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 f 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 5 5 f 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . 5 f 5 5 5 . . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    """),
                img("""
                    . . . . . . 5 5 5 5 5 . . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 5 5 f 5 5 . . . .
                    . . . . . 5 5 f f f 5 5 . . . .
                    . . . . . 5 5 f 5 5 5 5 . . . .
                    . . . . . . 5 f f f 5 . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . . 5 5 5 5 5 . . . . . .
                    . . . . . . . 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    . . . . 5 5 5 5 5 5 . . . . . .
                    """)],
            100,
            True)
    elif level == 3:
        scene.set_background_color(15)
        tiles.set_current_tilemap(tilemap("""
            level3
            """))
        mySprite.set_image(img("""
            . . . f f f f f f f f . . . . .
            . . f 2 2 2 2 2 2 2 2 f . . . .
            . f 2 2 2 2 2 2 2 2 2 2 f f f f
            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
            f f f f f f f f f f f f f f f f
            . f 4 4 4 4 4 4 f 1 f 4 f . . .
            . f 4 4 4 4 4 4 f 8 f 4 f . . .
            . f 4 4 4 4 4 4 f f 4 4 f . . .
            . . f 4 4 4 4 4 4 4 4 f . . . .
            f f f f 4 4 4 4 2 2 f . . . . .
            f 2 2 f f f f f f f f . . . . .
            f 2 2 2 2 f 4 4 f . . . . . . .
            . 4 4 f f 2 2 2 2 f f 4 4 . . .
            . . . f 2 2 5 5 2 2 f . . . . .
            . f f f f f f f f f f f f . . .
            . f c c c f . . f c c c f . . .
            """))
        mySprite.ay = 100
        mySprite.vy = 15
        music.play(music.create_song(hex("""
                00780004080200
                """)),
            music.PlaybackMode.LOOPING_IN_BACKGROUND)
        rightPlat = []
        wrongPlat = []
        for value4 in tiles.get_tiles_by_type(assets.tile("""
            myTile72
            """)):
            platformgood = sprites.create(img("""
                    f e e e e e e e e e e e e e e f
                    f f f f f f f f f f f f f f f f
                    f e e e e e e e e e e e e e e f
                    f f f f f f f f f f f f f f f f
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    """),
                SpriteKind.Platform)
            rightPlat.unshift(platformgood)
            tiles.place_on_tile(platformgood, value4)
            tiles.set_wall_at(value4, True)
        for value5 in tiles.get_tiles_by_type(assets.tile("""
            myTile73
            """)):
            platformBad = sprites.create(img("""
                    f e e e e e e e e e e e e e e f
                    f f f f f f f f f f f f f f f f
                    f e e e e e e e e e e e e e e f
                    f f f f f f f f f f f f f f f f
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    . . . . . . . . . . . . . . . .
                    """),
                SpriteKind.Platform)
            wrongPlat.unshift(platformBad)
            tiles.place_on_tile(platformBad, value5)
        for value32 in tiles.get_tiles_by_type(assets.tile("""
            myTile72
            """)):
            tiles.set_tile_at(value32, assets.tile("""
                myTile65
                """))
        for value33 in tiles.get_tiles_by_type(assets.tile("""
            myTile73
            """)):
            tiles.set_tile_at(value33, assets.tile("""
                myTile65
                """))
    elif level == 4:
        scene.set_background_color(9)
        tiles.set_current_tilemap(tilemap("""
            level4
            """))
        music.play(music.create_song(hex("""
                00780004080200
                """)),
            music.PlaybackMode.LOOPING_IN_BACKGROUND)
    info.set_life(3)
    info.start_countdown(301)
    scene.camera_follow_sprite(mySprite)
    for value6 in tiles.get_tiles_by_type(assets.tile("""
        myTile63
        """)):
        apple = sprites.create(img("""
                . . . . . e 7 . . . . . . . . .
                . . . . . . 7 . . 7 f . . . . .
                . . . . . . 7 . 7 7 . . . . . .
                . . . 2 2 2 7 7 7 2 2 2 . . . .
                . . 2 2 2 2 2 2 2 2 2 2 2 . . .
                . 2 2 2 2 2 2 2 2 2 2 2 2 2 . .
                . 2 2 2 2 2 2 2 2 2 1 2 2 2 . .
                . 2 2 2 2 2 2 2 2 2 1 2 2 2 . .
                . 2 2 2 2 2 2 2 2 2 2 1 2 2 . .
                . 2 2 2 2 2 2 2 2 2 2 2 2 2 . .
                . 2 2 2 2 2 2 2 2 2 2 2 2 2 . .
                . 2 2 2 2 2 2 2 2 2 2 2 2 2 . .
                . . 2 2 2 2 2 2 2 2 2 2 2 . . .
                . . . 2 2 2 2 2 2 2 2 2 . . . .
                . . . . 2 2 2 2 2 2 2 . . . . .
                . . . . . 2 f f f 2 . . . . . .
                """),
            SpriteKind.food)
        tiles.place_on_tile(apple, value6)
        tiles.set_tile_at(value6, assets.tile("""
            transparency16
            """))

def on_on_overlap(sprite3, otherSprite):
    info.change_life_by(-1)
    sprites.destroy(otherSprite)
    pause(2000)
sprites.on_overlap(SpriteKind.player, SpriteKind.Shark, on_on_overlap)

def on_a_pressed():
    global jumpcounter
    if level == 1 and mySprite.vy == 0:
        mySprite.set_velocity(0, -100)
    elif level == 2:
        mySprite.vy = -40
    elif level == 3:
        if jumpcounter < 2:
            mySprite.set_velocity(0, -50)
            jumpcounter += 1
controller.A.on_event(ControllerButtonEvent.PRESSED, on_a_pressed)

def on_on_overlap2(sprite4, otherSprite2):
    if isInArray(wrongPlat, sprite4) == True:
        tiles.set_wall_at(otherSprite2.tilemap_location(), False)
        sprites.destroy(otherSprite2)
sprites.on_overlap(SpriteKind.player, SpriteKind.Platform, on_on_overlap2)

def on_on_overlap3(sprite5, otherSprite3):
    global level
    sprites.destroy(otherSprite3)
    game.show_long_text("Et skridt tættere på at redde Matematikbyen!",
        DialogLayout.CENTER)
    animation.stop_animation(animation.AnimationTypes.ALL, mySprite)
    level += 1
    clearLevel()
sprites.on_overlap(SpriteKind.player, SpriteKind.Key, on_on_overlap3)

def isInArray(array: List[any], sprite6: Sprite):
    index4 = 0
    while index4 <= len(array) - 1:
        if array[index4] == sprite6:
            return True
        index4 += 1
    return False

def on_on_overlap4(sprite7, otherSprite4):
    if info.life() < 4:
        info.change_life_by(1)
        sprites.destroy(otherSprite4)
sprites.on_overlap(SpriteKind.player, SpriteKind.food, on_on_overlap4)

def clearLevel():
    for value42 in sprites.all_of_kind(SpriteKind.Result):
        sprites.destroy(value42)
    for value43 in sprites.all_of_kind(SpriteKind.Shark):
        sprites.destroy(value43)
    for value44 in sprites.all_of_kind(SpriteKind.projectile):
        sprites.destroy(value44)
    for value45 in sprites.all_of_kind(SpriteKind.food):
        sprites.destroy(value45)
    info.change_score_by(info.score() + info.countdown())
    tiles.place_on_tile(mySprite, tiles.get_tile_location(0, 12))
    createLevel()

def on_overlap_tile2(sprite8, location2):
    global isHolding, canPick, state
    if controller.B.is_pressed() and isHolding == True:
        if heldItem == Allresult1[3] or (heldItem == Allresult2[0] or heldItem == Allresult3[3]):
            sprites.destroy(heldItem)
            isHolding = False
            canPick = True
            state += 1
            changeState()
        else:
            sprites.destroy(heldItem)
            isHolding = False
            canPick = True
            info.change_life_by(-1)
scene.on_overlap_tile(SpriteKind.player,
    assets.tile("""
        myTile27
        """),
    on_overlap_tile2)

def changeState():
    if state == 1:
        tiles.set_wall_at(tiles.get_tile_location(30, 12), False)
        tiles.set_tile_at(tiles.get_tile_location(30, 12),
            assets.tile("""
                myTile4
                """))
        tiles.set_tile_at(tiles.get_tile_location(28, 12),
            assets.tile("""
                myTile20
                """))
        tiles.set_tile_at(tiles.get_tile_location(27, 12),
            assets.tile("""
                myTile16
                """))
    elif state == 2:
        tiles.set_wall_at(tiles.get_tile_location(50, 12), False)
        tiles.set_tile_at(tiles.get_tile_location(50, 12),
            assets.tile("""
                myTile4
                """))
        tiles.set_tile_at(tiles.get_tile_location(48, 12),
            assets.tile("""
                myTile20
                """))
        tiles.set_tile_at(tiles.get_tile_location(47, 12),
            assets.tile("""
                myTile16
                """))
    elif state == 3:
        tiles.set_wall_at(tiles.get_tile_location(70, 12), False)
        for index5 in range(3):
            tiles.set_tile_at(tiles.get_tile_location(70 + index5, 12),
                assets.tile("""
                    myTile4
                    """))
        tiles.set_tile_at(tiles.get_tile_location(68, 12),
            assets.tile("""
                myTile20
                """))
        tiles.set_tile_at(tiles.get_tile_location(67, 12),
            assets.tile("""
                myTile16
                """))

def on_on_overlap5(sprite9, otherSprite5):
    sprites.destroy(otherSprite5, effects.bubbles, 100)
    sprites.destroy(sprite9)
sprites.on_overlap(SpriteKind.projectile, SpriteKind.Shark, on_on_overlap5)

Currentanimation = 0
shark: Sprite = None
jumpcounter = 0
apple: Sprite = None
platformBad: Sprite = None
platformgood: Sprite = None
wrongPlat: List[Sprite] = []
rightPlat: List[Sprite] = []
key2: Sprite = None
resulttiles3: List[tiles.Location] = []
result3: Sprite = None
resulttiles2: List[tiles.Location] = []
result2: Sprite = None
result1tiles: List[tiles.Location] = []
result1: Sprite = None
Allresult3: List[Sprite] = []
Allresult2: List[Sprite] = []
Allresult1: List[Sprite] = []
Results3: List[Image] = []
Results2: List[Image] = []
Results1: List[Image] = []
key1: Sprite = None
projectile: Sprite = None
canShoot = 0
heldItem: Sprite = None
state = 0
isHolding = False
canPick = False
level = 0
mySprite: Sprite = None
mySprite = sprites.create(img("""
        . . . f f f f f f f f . . . . .
        . . f 2 2 2 2 2 2 2 2 f . . . .
        . f 2 2 2 2 2 2 2 2 2 2 f f f f
        f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
        f f f f f f f f f f f f f f f f
        . f 4 4 4 4 4 4 f 1 f 4 f . . .
        . f 4 4 4 4 4 4 f 8 f 4 f . . .
        . f 4 4 4 4 4 4 f f 4 4 f . . .
        . . f 4 4 4 4 4 4 4 4 f . . . .
        . . . f 4 4 4 4 2 2 f . . . . .
        . . . f f f f f f f f . . . . .
        . . . . . f 4 4 f . . . . . . .
        . 4 4 f f 2 2 2 2 f f 4 4 . . .
        . . . f 2 2 5 5 2 2 f . . . . .
        . f f f f f f f f f f f f . . .
        . f c c c f . . f c c c f . . .
        """),
    SpriteKind.player)
controller.move_sprite(mySprite, 50, 0)
mySprite.set_stay_in_screen(True)
mySprite.ay = 100
mySprite.z = 100
game.set_dialog_text_color(0)
game.set_dialog_frame(img("""
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . .
    """))
game.set_dialog_cursor(img("""
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    """))
level = 1
canPick = True
isHolding = False
state = 0
info.set_score(0)
createLevel()

def on_update_interval():
    global shark
    if level == 2:
        shark = sprites.create(img("""
                . . . . . . . . . . . . . . . .
                . . . . . . . . f f f . . . . .
                . . . . . . . f f f . . . . . .
                . . . . . . f f f f . . . . . .
                . . . . . f f f f . . . . . . f
                . . . f f f f f f f f f . . . f
                . f f f f f f f f f f f f . f f
                f f f 1 2 f f f f f f f f f f f
                f f f 2 2 f f f f f f f f f f f
                f f f f f f f f f f f f f f f f
                . 2 2 f 1 1 1 1 1 1 f f f . f f
                . . f 1 1 1 1 1 1 1 1 f . . f f
                . . . f f f f f f f f . . . . f
                . . . . f f . f f f . . . . . f
                . . . . . f . . f f . . . . . .
                . . . . . . . . . f . . . . . .
                """),
            SpriteKind.Shark)
        shark.set_position(1300, randint(mySprite.y + 100, mySprite.y + -100))
        shark.set_velocity(-50, 0)
        shark.set_flag(SpriteFlag.GHOST_THROUGH_TILES, True)
        shark.set_flag(SpriteFlag.GHOST_THROUGH_WALLS, True)
game.on_update_interval(1000, on_update_interval)

def on_forever():
    global Currentanimation
    if level == 2:
        if controller.left.is_pressed():
            if Currentanimation != 1:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . . . f f f f f f f f . . .
                            . . . . f d d d d d d d d f . .
                            . . . f d d d d d d d d d d f .
                            . . f d d d d d d d d d d d d f
                            . . f d d f f f d d d d d d f f
                            . . . f f f 1 f d d d d d d f .
                            . . . f d f 8 f d d d d d d f .
                            . . . f d d f f d d d d d d f .
                            . . . . f f d d d d d d d f . .
                            . . . d d d f d d d d d f . . .
                            . . . d . f f f f f f f f . . .
                            . . . d d d d f 4 4 f d . . . .
                            . . . 4 4 f f f f f f f f 4 4 .
                            . . . . . f f f 5 5 f f f . . .
                            . . . f f f f f f f f f f f f .
                            . . . f c c c f . . f c c c f .
                            """),
                        img("""
                            . . . . . f f f f f f f f . . .
                            . . . . f d d d d d d d d f . .
                            . . . f d d d d d d d d d d f .
                            . . f d d d d d d d d d d d d f
                            . . f d d f f f d d d d d d f f
                            . . . f f f 1 f d d d d d d f .
                            . . . f d f 8 f d d d d d d f .
                            . . . f d d f f d d d d d d f .
                            . . . . f f d d d d d d d f . .
                            . . . d d d f d d d d d f . . .
                            . . . d . f f f f f f f f . . .
                            . . . d d d d f 4 4 f d . . . .
                            . . . . . f f f f f f f f . . .
                            . . . 4 4 f f f 5 5 f f f 4 4 .
                            . . . f f f f f f f f f f f f .
                            . . . f c c c f . . f c c c f .
                            """)],
                    200,
                    True)
                Currentanimation = 1
        elif controller.right.is_pressed():
            if Currentanimation != 2:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . f f f f f f f f . . . . .
                            . . f d d d d d d d d f . . . .
                            . f d d d d d d d d d d f f . .
                            f d d d d d d d d d d d d f . .
                            f f d d d d d d f f f d d f . .
                            . f d d d d d d f 1 f f f . . .
                            . f d d d d d d f 8 f d f . . .
                            . f d d d d d d f f d d f . . .
                            . . f d d d d d d d f f . . . .
                            . . . f d d d d d f d d d . . .
                            . . . f f f f f f f f . d . . .
                            . . . . d f 4 4 f d d d d . . .
                            . 4 4 f f f f f f f f 4 4 . . .
                            . . . f f f 5 5 f f f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """),
                        img("""
                            . . . f f f f f f f f . . . . .
                            . . f d d d d d d d d f . . . .
                            . f d d d d d d d d d d f f . .
                            f d d d d d d d d d d d d f . .
                            f f d d d d d d f f f d d f . .
                            . f d d d d d d f 1 f f f . . .
                            . f d d d d d d f 8 f d f . . .
                            . f d d d d d d f f d d f . . .
                            . . f d d d d d d d f f . . . .
                            . . . f d d d d d f d d d . . .
                            . . . f f f f f f f f . d . . .
                            . . . . d f 4 4 f d d d d . . .
                            . . . f f f f f f f f . . . . .
                            . 4 4 f f f 5 5 f f f 4 4 . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """)],
                    200,
                    True)
                Currentanimation = 2
        else:
            if mySprite.vy == 0:
                animation.stop_animation(animation.AnimationTypes.ALL, mySprite)
                Currentanimation = 0
    elif level == 1:
        if controller.left.is_pressed():
            if Currentanimation != 1:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . . . f f f f f f f f . . .
                            . . . . f 2 2 2 2 2 2 2 2 f . .
                            f f f f 2 2 2 2 2 2 2 2 2 2 f .
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . . . f 4 f 1 f 4 4 4 4 4 4 f .
                            . . . f 4 f 8 f 4 4 4 4 4 4 f .
                            . . . f 4 4 f f 4 4 4 4 4 4 f .
                            . . . . f 4 4 4 4 4 4 4 4 f . .
                            . . . . . f 2 2 4 4 4 4 f . . .
                            . . . . . f f f f f f f f . . .
                            . . . . . . . f 4 4 f . . . . .
                            . . . 4 4 f f 2 2 2 2 f f 4 4 .
                            . . . . . f 2 2 5 5 2 2 f . . .
                            . . . f f f f f f f f f f f f .
                            . . . f c c c f . . f c c c f .
                            """),
                        img("""
                            . . . . . . . . . . . . . . . .
                            . . . . . f f f f f f f f . . .
                            . . . . f 2 2 2 2 2 2 2 2 f . .
                            f f f f 2 2 2 2 2 2 2 2 2 2 f .
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . . . f 4 f 1 f 4 4 4 4 4 4 f .
                            . . . f 4 f 8 f 4 4 4 4 4 4 f .
                            . . . f 4 4 f f 4 4 4 4 4 4 f .
                            . . . . f 4 4 4 4 4 4 4 4 f . .
                            . . . . . f 2 2 4 4 4 4 f . . .
                            . . . . . . f f f f f f . . . .
                            . . . . . f f 2 2 2 2 f f . . .
                            . . . 4 4 f 2 2 5 5 2 2 f 4 4 .
                            . . . f f f f f f f f f f f f .
                            . . . f c c c f . . f c c c f .
                            """)],
                    200,
                    True)
                Currentanimation = 1
        elif controller.right.is_pressed():
            if Currentanimation != 2:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            . . . f 4 4 4 4 2 2 f . . . . .
                            . . . f f f f f f f f . . . . .
                            . . . . . f 4 4 f . . . . . . .
                            . 4 4 f f 2 2 2 2 f f 4 4 . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """),
                        img("""
                            . . . . . . . . . . . . . . . .
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            . . . f 4 4 4 4 2 2 f . . . . .
                            . . . . f f f f f f . . . . . .
                            . . . f f 2 2 2 2 f f . . . . .
                            . 4 4 f 2 2 5 5 2 2 f 4 4 . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """)],
                    200,
                    True)
                Currentanimation = 2
        elif controller.A.is_pressed() and mySprite.vx == 0:
            if Currentanimation != 3:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            . . . f 4 4 4 4 2 2 f . . . . .
                            . . . f f f f f f f f . . . . .
                            . . . . . f 4 4 f . . . . . . .
                            . 4 4 f f 2 2 2 2 f f 4 4 . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """),
                        img("""
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            . . . f 4 4 4 4 2 2 f . . . . .
                            . . . f f f f f f f f . . . . .
                            . . 4 . . f 4 4 f . . 4 . . . .
                            . . 4 f f 2 2 2 2 f f 4 . . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """)],
                    200,
                    False)
                Currentanimation = 3
        else:
            if Currentanimation != 0:
                animation.stop_animation(animation.AnimationTypes.ALL, mySprite)
                Currentanimation = 0
    elif level == 3:
        if controller.left.is_pressed():
            if Currentanimation != 1:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . . . f f f f f f f f . . .
                            . . . . f 2 2 2 2 2 2 2 2 f . .
                            f f f f 2 2 2 2 2 2 2 2 2 2 f .
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . . . f 4 f 1 f 4 4 4 4 4 4 f .
                            . . . f 4 f 8 f 4 4 4 4 4 4 f .
                            . . . f 4 4 f f 4 4 4 4 4 4 f .
                            . . . . f 4 4 4 4 4 4 4 4 f . .
                            . . . . . f 2 2 4 4 4 4 f 2 2 2
                            . . . . . . f f f f f f 2 2 2 2
                            . . . . . . . f 4 4 f 2 2 2 2 2
                            . . . 4 4 f f 2 2 2 2 f f 4 4 .
                            . . . . . f 2 2 5 5 2 2 f . . .
                            . . . f f f f f f f f f f f f .
                            . . . f c c c f . . f c c c f .
                            """),
                        img("""
                            . . . . . . . . . . . . . . . .
                            . . . . . f f f f f f f f . . .
                            . . . . f 2 2 2 2 2 2 2 2 f . .
                            f f f f 2 2 2 2 2 2 2 2 2 2 f .
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . . . f 4 f 1 f 4 4 4 4 4 4 f .
                            . . . f 4 f 8 f 4 4 4 4 4 4 f .
                            . . . f 4 4 f f 4 4 4 4 4 4 f .
                            . . . . f 4 4 4 4 4 4 4 4 f . .
                            . . . . . f 2 2 4 4 4 4 f 2 2 2
                            . . . . . . f f f f f f 2 2 2 2
                            . . . 4 4 f f 2 2 2 2 f f 4 4 2
                            . . . . . f 2 2 5 5 2 2 f . . .
                            . . . f f f f f f f f f f f f .
                            . . . f c c c f . . f c c c f .
                            """)],
                    200,
                    True)
                Currentanimation = 1
        elif controller.right.is_pressed():
            if Currentanimation != 2:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            2 2 2 f 4 4 4 4 2 2 f . . . . .
                            2 2 2 2 f f f f f f . . . . . .
                            2 2 2 2 2 f 4 4 f . . . . . . .
                            . 4 4 f f 2 2 2 2 f f 4 4 . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """),
                        img("""
                            . . . . . . . . . . . . . . . .
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            2 2 2 f 4 4 4 4 2 2 f . . . . .
                            2 2 2 2 f f f f f f . . . . . .
                            2 4 4 f f 2 2 2 2 f f 4 4 . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """)],
                    200,
                    True)
                Currentanimation = 2
        elif controller.A.is_pressed() and mySprite.vx == 0:
            if Currentanimation != 3:
                animation.run_image_animation(mySprite,
                    [img("""
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            . f 4 4 4 4 4 4 f f 4 4 f . . .
                            . . f 4 4 4 4 4 4 4 4 f . . . .
                            2 2 f f 4 4 4 4 2 2 f . . . . .
                            2 2 2 f f f f f f f . . . . . .
                            2 2 2 2 2 f 4 4 f . . . . . . .
                            . 4 4 f f 2 2 2 2 f f 4 4 . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """),
                        img("""
                            . . . f f f f f f f f . . . . .
                            . . f 2 2 2 2 2 2 2 2 f . . . .
                            . f 2 2 2 2 2 2 2 2 2 2 f f f f
                            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f
                            f f f f f f f f f f f f f f f f
                            . f 4 4 4 4 4 4 f 1 f 4 f . . .
                            . f 4 4 4 4 4 4 f 8 f 4 f . . .
                            2 f 4 4 4 4 4 4 f f 4 4 f . . .
                            2 2 f 4 4 4 4 4 4 4 4 f . . . .
                            2 2 2 f 4 4 4 4 2 2 f . . . . .
                            2 2 2 2 f f f f f f . . . . . .
                            . . 4 2 2 f 4 4 f . . 4 . . . .
                            . . 4 f f 2 2 2 2 f f 4 . . . .
                            . . . f 2 2 5 5 2 2 f . . . . .
                            . f f f f f f f f f f f f . . .
                            . f c c c f . . f c c c f . . .
                            """)],
                    200,
                    False)
                Currentanimation = 3
        else:
            if Currentanimation != 0:
                animation.stop_animation(animation.AnimationTypes.ALL, mySprite)
                Currentanimation = 0
forever(on_forever)

def on_forever2():
    global jumpcounter
    if mySprite.vy == 0:
        jumpcounter = 0
forever(on_forever2)

def on_forever3():
    if info.life() == 0:
        music.play(music.melody_playable(music.wawawawaa),
            music.PlaybackMode.IN_BACKGROUND)
        game.game_over(False)
        game.set_game_over_message(False, "GAME OVER!")
forever(on_forever3)

def on_forever4():
    if info.countdown() == 0:
        music.play(music.melody_playable(music.wawawawaa),
            music.PlaybackMode.IN_BACKGROUND)
        game.game_over(False)
        game.set_game_over_message(False, "GAME OVER!")
forever(on_forever4)

def on_forever5():
    if isHolding == True:
        heldItem.set_position(mySprite.x - 10, mySprite.y)
forever(on_forever5)
