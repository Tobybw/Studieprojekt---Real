namespace SpriteKind {
    export const Npc = SpriteKind.create()
    export const Result = SpriteKind.create()
    export const Key = SpriteKind.create()
    export const Cogwheel = SpriteKind.create()
    export const Shark = SpriteKind.create()
    export const Platform = SpriteKind.create()
    export const Boss = SpriteKind.create()
    export const Lever = SpriteKind.create()
}
// Pickup logic: Press B while overlapping a Result sprite
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (level == 1) {
        if (isHolding == false && canPick == true) {
            // Check all sprites of kind Result
            for (let sprite of sprites.allOfKind(SpriteKind.Result)) {
                if (mySprite.overlapsWith(sprite)) {
                    heldItem = sprite
                    isHolding = true
                    canPick = false
                    break;
                }
            }
        } else if (isHolding == true && canPick == false && mySprite.vy == 0 && mySprite.tileKindAt(TileDirection.Right, assets.tile`myTile35`) == false) {
            // Drop logic: Press B again when holding
            heldItem.setPosition(mySprite.x - 10, mySprite.y)
            // Drop at player's feet
            isHolding = false
            pause(200)
            canPick = true
        }
    } else if (level == 2 || level == 4) {
        if (mySprite.vx >= 0 && canShoot == 0) {
            canShoot = 1
            projectile = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . 1 . . . . . . . . 1 1 . . . . 
                . 1 1 . . . . . . 1 1 1 1 . . . 
                . 1 1 f f f f f f f 1 1 1 1 . . 
                . 1 1 . . . . . . 1 1 1 1 . . . 
                . 1 . . . . . . . . 1 1 . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, mySprite, 80, 0)
            projectile.setFlag(SpriteFlag.GhostThroughTiles, true)
            projectile.setFlag(SpriteFlag.GhostThroughWalls, true)
            pause(500)
            canShoot = 0
        } else if (mySprite.vx < 0 && canShoot == 0) {
            canShoot = 1
            projectile = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . 1 1 . . . . . . . . 1 . 
                . . . 1 1 1 1 . . . . . . 1 1 . 
                . . 1 1 1 1 f f f f f f f 1 1 . 
                . . . 1 1 1 1 . . . . . . 1 1 . 
                . . . . 1 1 . . . . . . . . 1 . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, mySprite, -80, 0)
            projectile.setFlag(SpriteFlag.GhostThroughTiles, true)
            projectile.setFlag(SpriteFlag.GhostThroughWalls, true)
            pause(500)
            canShoot = 0
        }
    }
})
function createLevel () {
    if (level == 1) {
        scene.setBackgroundColor(14)
        tiles.setCurrentTilemap(tilemap`level1`)
        tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 10))
        music.play(music.createSong(hex`0078000408020603001c0001dc00690000045e010004000000000000000000000564000104000306001c002000012a04001c00100500640000041e000004000000000000000000000000000a0400040c0018001c00011d20002400011d05001c000f0a006400f4010a0000040000000000000000000000000000000002240000000400012a04000800012708000c0001240c001000012a10001400012714001800012406001c00010a006400f401640000040000000000000000000000000000000002180028002c0001272c003000012730003400012434003800012408001c000e050046006603320000040a002d00000064001400013200020100020c0024002800012038003c00012009010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c800180004000500010a08000900010810001100010a140015000108`), music.PlaybackMode.LoopingInBackground)
        key1 = sprites.create(img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . 5 5 5 5 f 5 5 5 5 . . . 
            . . . . 5 5 5 5 f 5 5 5 5 . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `, SpriteKind.Key)
        tiles.placeOnTile(key1, tiles.getTileLocation(5, 12))
        animation.runImageAnimation(
        key1,
        [img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . 5 5 5 5 f 5 5 5 5 . . . 
            . . . . 5 5 5 5 f 5 5 5 5 . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . 5 5 5 5 f 5 5 5 5 . . . 
            . . . . 5 5 5 5 f 5 5 5 5 . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 5 f 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 5 f 5 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `],
        100,
        true
        )
        for (let index = 0; index <= 12; index++) {
            tiles.setWallAt(tiles.getTileLocation(30, index), true)
        }
        for (let index2 = 0; index2 <= 12; index2++) {
            tiles.setWallAt(tiles.getTileLocation(50, index2), true)
        }
        for (let index3 = 0; index3 <= 12; index3++) {
            tiles.setWallAt(tiles.getTileLocation(70, index3), true)
        }
        Results1 = [
        assets.tile`myTile11`,
        assets.tile`myTile12`,
        assets.tile`myTile13`,
        assets.tile`myTile22`
        ]
        Results2 = [
        assets.tile`myTile25`,
        assets.tile`myTile26`,
        assets.tile`myTile28`,
        assets.tile`myTile24`
        ]
        Results3 = [
        assets.tile`myTile30`,
        assets.tile`myTile31`,
        assets.tile`myTile32`,
        assets.tile`myTile33`
        ]
        Allresult1 = []
        Allresult2 = []
        Allresult3 = []
        for (let index1 = 0; index1 <= 3; index1++) {
            result1 = sprites.create(Results1[index1], SpriteKind.Result)
            Allresult1.unshift(result1)
            result1tiles = tiles.getTilesByType(assets.tile`myTile23`)
            tiles.placeOnTile(result1, result1tiles[index1])
        }
        for (let index12 = 0; index12 <= 3; index12++) {
            result2 = sprites.create(Results2[index12], SpriteKind.Result)
            Allresult2.unshift(result2)
            resulttiles2 = tiles.getTilesByType(assets.tile`myTile29`)
            tiles.placeOnTile(result2, resulttiles2[index12])
        }
        for (let index13 = 0; index13 <= 3; index13++) {
            result3 = sprites.create(Results3[index13], SpriteKind.Result)
            Allresult3.unshift(result3)
            resulttiles3 = tiles.getTilesByType(assets.tile`myTile34`)
            tiles.placeOnTile(result3, resulttiles3[index13])
        }
        for (let value of tiles.getTilesByType(assets.tile`myTile23`)) {
            tiles.setTileAt(value, assets.tile`transparency16`)
        }
        for (let value2 of tiles.getTilesByType(assets.tile`myTile29`)) {
            tiles.setTileAt(value2, assets.tile`transparency16`)
        }
        for (let value3 of tiles.getTilesByType(assets.tile`myTile34`)) {
            tiles.setTileAt(value3, assets.tile`transparency16`)
        }
    } else if (level == 2) {
        scene.setBackgroundColor(8)
        tiles.setCurrentTilemap(tilemap`level2`)
        music.play(music.createSong(hex`0078000408020401001c000f05001202c102c201000405002800000064002800031400060200042a0020002400012c24002800012a28002c0001292c003000012730003400012934003800012a38003c00012c07001c00020a006400f401640000040000000000000000000000000000000003180000000400012a08000c00012a10001400012a18001c00012a08001c000e050046006603320000040a002d000000640014000132000201000218000400080001270c00100001271400180001271c002000012709010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c8003000000001000104080009000104100011000104180019000104200021000104280029000104300031000104380039000104`), music.PlaybackMode.LoopingInBackground)
        mySprite.vy = 15
        mySprite.ay = 25
        mySprite.setImage(img`
            . . . f f f f f f f f . . . . . 
            . . f d d d d d d d d f . . . . 
            . f d d d d d d d d d d f . . . 
            f d d d d d d d d d d d d f . . 
            f f d d d d d d f f f d d f . . 
            . f d d d d d d f 1 f f f . . . 
            . f d d d d d d f 8 f d f . . . 
            . f d d d d d d f f d d f . . . 
            . . f d d d d d d d f f . . . . 
            . . . f d d d d d f d d d . . . 
            . . . f f f f f f f f . d . . . 
            . . . . d f 4 4 f d d d d . . . 
            . 4 4 f f f f f f f f 4 4 . . . 
            . . . f f f 5 5 f f f . . . . . 
            . f f f f f f f f f f f f . . . 
            . f c c c f . . f c c c f . . . 
            `)
        tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 13))
        key2 = sprites.create(img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . 5 5 5 5 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `, SpriteKind.Key)
        tiles.placeOnTile(key2, tiles.getTileLocation(5, 13))
        animation.runImageAnimation(
        key2,
        [img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . 5 5 5 5 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 f 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 f 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . 5 5 5 5 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 f 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 f 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 f 5 5 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `],
        100,
        true
        )
    } else if (level == 3) {
        scene.setBackgroundColor(15)
        tiles.setCurrentTilemap(tilemap`level3`)
        mySprite.setImage(img`
            . . . f f f f f f f f . . . . . 
            . . f 2 2 2 2 2 2 2 2 f . . . . 
            . f 2 2 2 2 2 2 2 2 2 2 f f f f 
            f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
            f f f f f f f f f f f f f f f f 
            . f 4 4 4 4 4 4 f 1 f 4 f . . . 
            . f 4 4 4 4 4 4 f 8 f 4 f . . . 
            . f 4 4 4 4 4 4 f f 4 4 f . . . 
            . . f 4 4 4 4 4 4 4 4 f . . . . 
            f f f f 4 4 4 4 2 2 f . . . . . 
            f 2 2 f f f f f f f f . . . . . 
            f 2 2 2 2 f 4 4 f . . . . . . . 
            . 4 4 f f 2 2 2 2 f f 4 4 . . . 
            . . . f 2 2 5 5 2 2 f . . . . . 
            . f f f f f f f f f f f f . . . 
            . f c c c f . . f c c c f . . . 
            `)
        mySprite.ay = 100
        mySprite.vy = 15
        key3 = sprites.create(img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . 5 5 5 5 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `, SpriteKind.Key)
        tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 12))
        tiles.placeOnTile(key3, tiles.getTileLocation(5, 12))
        animation.runImageAnimation(
        key3,
        [img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . 5 5 5 5 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . 5 5 5 5 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `],
        100,
        true
        )
        rightPlat = []
        wrongPlat = []
        for (let value4 of tiles.getTilesByType(assets.tile`myTile72`)) {
            platformgood = sprites.create(img`
                f e e e e e e e e e e e e e e f 
                f f f f f f f f f f f f f f f f 
                f e e e e e e e e e e e e e e f 
                f f f f f f f f f f f f f f f f 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, SpriteKind.Platform)
            rightPlat.unshift(platformgood)
            tiles.placeOnTile(platformgood, value4)
            tiles.setWallAt(value4, true)
        }
        for (let value5 of tiles.getTilesByType(assets.tile`myTile73`)) {
            platformBad = sprites.create(img`
                f e e e e e e e e e e e e e e f 
                f f f f f f f f f f f f f f f f 
                f e e e e e e e e e e e e e e f 
                f f f f f f f f f f f f f f f f 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, SpriteKind.Platform)
            wrongPlat.unshift(platformBad)
            tiles.placeOnTile(platformBad, value5)
        }
        for (let value32 of tiles.getTilesByType(assets.tile`myTile72`)) {
            tiles.setTileAt(value32, assets.tile`myTile74`)
        }
        for (let value33 of tiles.getTilesByType(assets.tile`myTile73`)) {
            tiles.setTileAt(value33, assets.tile`myTile74`)
        }
    } else if (level == 4) {
        scene.setBackgroundColor(15)
        tiles.setCurrentTilemap(tilemap`level4`)
        tiles.placeOnTile(mySprite, tiles.getTileLocation(2, 5))
        key4 = sprites.create(img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . 5 5 5 f 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `, SpriteKind.Key)
        tiles.placeOnTile(key4, tiles.getTileLocation(5, 5))
        animation.runImageAnimation(
        key4,
        [img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . 5 5 5 f 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            . . . 5 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . 5 5 5 f 5 f 5 5 5 . . . 
            . . . . 5 5 5 f f f 5 5 5 . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            . . . . . . . 5 5 5 5 5 5 5 . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            . . . . . . . 5 5 5 5 5 5 . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            . . . . . . . 5 5 5 5 5 . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            . . . . . . . 5 5 5 5 . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            `,img`
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 f 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f 5 f 5 . . . . . 
            . . . . . . 5 f f f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            `,img`
            . . . . . . 5 5 5 5 5 . . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f 5 f 5 5 . . . . 
            . . . . . 5 5 f f f 5 5 . . . . 
            . . . . . 5 5 5 5 f 5 5 . . . . 
            . . . . . . 5 5 5 f 5 . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . . 5 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            . . . . 5 5 5 5 5 5 . . . . . . 
            `],
        100,
        true
        )
        levers = sprites.allOfKind(SpriteKind.Lever)
        for (let value of tiles.getTilesByType(assets.tile`myTile75`)) {
            lever = sprites.create(img`
                f . . . . . . . . . . . . . . . 
                f . . . . f f f f f . . . . . . 
                f . . . f f c c c f f . . . . . 
                f . . . f c c c c c f . . . . . 
                f . . . f c c c c c f . . . . . 
                f . . . f f c c c f f . . . . . 
                f . . . . f f 1 f f . . . . . . 
                f . . . . . . 1 . . . . . . . . 
                f . . . . . . 1 . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                f . . . . . . . . . . . . . . . 
                `, SpriteKind.Lever)
            levers.unshift(lever)
            tiles.placeOnTile(lever, value)
        }
        for (let value of tiles.getTilesByType(assets.tile`myTile75`)) {
            tiles.setTileAt(value, assets.tile`transparency16`)
        }
    }
    if (level == 3) {
        info.startCountdown(151)
    } else {
        info.startCountdown(301)
    }
    info.setLife(3)
    scene.cameraFollowSprite(mySprite)
    for (let value6 of tiles.getTilesByType(assets.tile`myTile63`)) {
        apple = sprites.create(img`
            . . . . . e 7 . . . . . . . . . 
            . . . . . . 7 . . 7 f . . . . . 
            . . . . . . 7 . 7 7 . . . . . . 
            . . . 2 2 2 7 7 7 2 2 2 . . . . 
            . . 2 2 2 2 2 2 2 2 2 2 2 . . . 
            . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
            . 2 2 2 2 2 2 2 2 2 1 2 2 2 . . 
            . 2 2 2 2 2 2 2 2 2 1 2 2 2 . . 
            . 2 2 2 2 2 2 2 2 2 2 1 2 2 . . 
            . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
            . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
            . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
            . . 2 2 2 2 2 2 2 2 2 2 2 . . . 
            . . . 2 2 2 2 2 2 2 2 2 . . . . 
            . . . . 2 2 2 2 2 2 2 . . . . . 
            . . . . . 2 f f f 2 . . . . . . 
            `, SpriteKind.Food)
        tiles.placeOnTile(apple, value6)
        tiles.setTileAt(value6, assets.tile`transparency16`)
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Shark, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
    sprites.destroy(otherSprite)
    pause(2000)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (level == 1 && mySprite.vy == 0) {
        mySprite.setVelocity(0, -100)
    } else if (level == 2) {
        mySprite.vy = -40
    } else if (level == 3 || level == 4) {
        if (jumpcounter < 2) {
            mySprite.setVelocity(0, -65)
            jumpcounter += 1
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Platform, function (sprite, otherSprite) {
    if (isInArray(wrongPlat, otherSprite) == true) {
        tiles.setWallAt(otherSprite.tilemapLocation(), false)
        sprites.destroy(otherSprite)
    }
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Lever, function (sprite, otherSprite) {
    if ((otherSprite == levers[1] || (otherSprite == levers[5] || otherSprite == levers[6])) && otherSprite.image != img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 . . . . . . . . 
        . . . . . . . 1 . . . . . . . . 
        . . . . . f f 1 f f . . . . . . 
        . . . . f f 7 7 7 f f . . . . . 
        . . . . f 7 7 7 7 7 f . . . . . 
        . . . . f 7 7 7 7 7 f . . . . . 
        . . . . f f 7 7 7 f f . . . . . 
        . . . . . f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        `) {
        otherSprite.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 1 . . . . . . . . 
            . . . . . . . 1 . . . . . . . . 
            . . . . . f f 1 f f . . . . . . 
            . . . . f f 7 7 7 f f . . . . . 
            . . . . f 7 7 7 7 7 f . . . . . 
            . . . . f 7 7 7 7 7 f . . . . . 
            . . . . f f 7 7 7 f f . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
        state += 1
        sprites.destroy(sprite)
        changeState()
    } else if (otherSprite.image != img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 1 . . . . . . . . 
        . . . . . . . 1 . . . . . . . . 
        . . . . . f f 1 f f . . . . . . 
        . . . . f f 2 2 2 f f . . . . . 
        . . . . f 2 2 2 2 2 f . . . . . 
        . . . . f 2 2 2 2 2 f . . . . . 
        . . . . f f 2 2 2 f f . . . . . 
        . . . . . f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        `) {
        otherSprite.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 1 . . . . . . . . 
            . . . . . . . 1 . . . . . . . . 
            . . . . . f f 1 f f . . . . . . 
            . . . . f f 2 2 2 f f . . . . . 
            . . . . f 2 2 2 2 2 f . . . . . 
            . . . . f 2 2 2 2 2 f . . . . . 
            . . . . f f 2 2 2 f f . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
        sprites.destroy(sprite)
        Null.x += 4
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Key, function (sprite, otherSprite) {
    if (level == 4 && state == 0) {
        tiles.placeOnTile(otherSprite, tiles.getTileLocation(99, 12))
        Null = sprites.create(img`
            .....aaaaaaa........aaaaaaa.....
            ...aaaaaaaaaaa....aaaaaaaaaaa...
            ..aaaaaaaaaaaaa..aaaaaaaaaaaaa..
            ..aaaaaaaaaaaaa..aaaaaaaaaaaaa..
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            .aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.
            ..aaaaaaaaaaaaaaaaaaaaaaaaaaaa..
            ..aaaaaaaaaaaaaaaaaaaaaaaaaaaa..
            ...aaaaaaaaaaaaaaaaaaaaaaaaaa...
            .....aaaaaaaaaaaaaaaaaaaaaa.....
            .......1111111111111111.........
            ......1111111111111111111.......
            .....11111111111111111111111111.
            ....111111fff1111fff111111111111
            ....11111111f111111f111111111111
            .1111111111111111111111111111111
            .111111111111f2f2f11111111111111
            .111111111111fffff11111111111111
            .111111111111f2f2f1111111111111.
            111111111111111111111111111111..
            11111111111111111111111111111...
            11111111111111111111111..111....
            111111111..11111.11111..........
            .111111...111111.111111.........
            ..........111111.1111111........
            .........1111111..111111........
            ...................111..........
            `, SpriteKind.Boss)
        tiles.placeOnTile(Null, tiles.getTileLocation(1, 4))
        Null.vx = 40
        Null.setFlag(SpriteFlag.GhostThroughWalls, true)
        Null.setFlag(SpriteFlag.GhostThroughTiles, true)
        state = 1
        changeState()
        while (Null.vx >= 40) {
            Null.vy = 20
            pause(200)
            Null.vy = -20
            pause(200)
        }
    } else if (level == 4 && state == 4) {
        game.setGameOverMessage(true, "Matematikbyen er reddet!")
        game.gameOver(true)
    } else {
        sprites.destroy(otherSprite)
        game.showLongText("Et skridt tttere p at redde Matematikbyen!", DialogLayout.Center)
        animation.stopAnimation(animation.AnimationTypes.All, mySprite)
        level += 1
        clearLevel()
    }
})
info.onLifeZero(function () {
    game.gameOver(false)
    game.setGameOverMessage(false, "GAME OVER!")
    music.play(music.melodyPlayable(music.wawawawaa), music.PlaybackMode.InBackground)
})
function isInArray (array: any[], sprite: Sprite) {
    for (let index4 = 0; index4 <= array.length - 1; index4++) {
        if (array[index4] == sprite) {
            return true
        }
    }
    return false
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    if (info.life() <= 3) {
        info.changeLifeBy(1)
        sprites.destroy(otherSprite)
    }
})
function clearLevel () {
    for (let value42 of sprites.allOfKind(SpriteKind.Result)) {
        sprites.destroy(value42)
    }
    for (let value43 of sprites.allOfKind(SpriteKind.Shark)) {
        sprites.destroy(value43)
    }
    for (let value44 of sprites.allOfKind(SpriteKind.Projectile)) {
        sprites.destroy(value44)
    }
    for (let value45 of sprites.allOfKind(SpriteKind.Food)) {
        sprites.destroy(value45)
    }
    info.changeScoreBy(info.score() + info.countdown())
    state = 0
    music.stopAllSounds()
    createLevel()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile27`, function (sprite, location) {
    if (controller.B.isPressed() && isHolding == true) {
        if (heldItem == Allresult1[3] || (heldItem == Allresult2[0] || heldItem == Allresult3[3])) {
            sprites.destroy(heldItem)
            isHolding = false
            canPick = true
            state += 1
            changeState()
        } else {
            sprites.destroy(heldItem)
            isHolding = false
            canPick = true
            info.changeLifeBy(-1)
        }
    }
})
function changeState () {
    if (level == 1) {
        if (state == 1) {
            tiles.setWallAt(tiles.getTileLocation(30, 12), false)
            tiles.setTileAt(tiles.getTileLocation(30, 12), assets.tile`myTile4`)
            tiles.setTileAt(tiles.getTileLocation(28, 12), assets.tile`myTile20`)
            tiles.setTileAt(tiles.getTileLocation(27, 12), assets.tile`myTile16`)
        } else if (state == 2) {
            tiles.setWallAt(tiles.getTileLocation(50, 12), false)
            tiles.setTileAt(tiles.getTileLocation(50, 12), assets.tile`myTile4`)
            tiles.setTileAt(tiles.getTileLocation(48, 12), assets.tile`myTile20`)
            tiles.setTileAt(tiles.getTileLocation(47, 12), assets.tile`myTile16`)
        } else if (state == 3) {
            tiles.setWallAt(tiles.getTileLocation(70, 12), false)
            for (let index5 = 0; index5 <= 2; index5++) {
                tiles.setTileAt(tiles.getTileLocation(70 + index5, 12), assets.tile`myTile4`)
            }
            tiles.setTileAt(tiles.getTileLocation(68, 12), assets.tile`myTile20`)
            tiles.setTileAt(tiles.getTileLocation(67, 12), assets.tile`myTile16`)
        }
    } else if (level == 4) {
        if (state == 1) {
            game.showLongText("Kun ved at lse alle mine ligninger, kan du redde Matematikbyen", DialogLayout.Center)
            game.showLongText("Skyd hndtagene med det rigtige svar, inden Null fanger dig!", DialogLayout.Center)
            music.play(music.createSong(hex`0064000408020302001c000c960064006d019001000478002c010000640032000000000a0600050c0010001400011930003400011904001c00100500640000041e000004000000000000000000000000000a040004c00000000200011d02000400011d04000600012006000800012008000a0001240a000c0001240c000e0001250e001000012510001200012712001400012714001600012416001800012418001a0001201a001c0001201c001e00011e1e002000011e20002200011d22002400011d24002600012026002800012028002a0001242a002c0001242c002e0001252e003000012530003200012732003400012734003600012436003800012438003a0001203a003c0001203c003e00011e3e004000011e06001c00010a006400f4016400000400000000000000000000000000000000025a0004000600012c08000c0001290c000e00012c10001400012914001800012c18001c0001291c002000012c20002400012924002800012c28002c0001292c003000012c30003400012934003800012c38003c0001293c004000012c`), music.PlaybackMode.LoopingInBackground)
            Null.sayText("5x+6=81", 2000, false)
            mySprite.sayText("5x+6=81")
        } else if (state == 2) {
            for (let index = 0; index <= 3; index++) {
                tiles.setWallAt(tiles.getTileLocation(45, index + 2), false)
                tiles.setTileAt(tiles.getTileLocation(45, index + 2), assets.tile`transparency16`)
                tiles.setTileAt(tiles.getTileLocation(43, index + 2), assets.tile`transparency16`)
                tiles.setTileAt(tiles.getTileLocation(42, index + 2), assets.tile`transparency16`)
            }
            Null.vx = 45
            music.stopAllSounds()
            music.play(music.createSong(hex`0073000408020302001c000c960064006d019001000478002c010000640032000000000a0600050c0010001400011930003400011904001c00100500640000041e000004000000000000000000000000000a040004c00000000200011d02000400011d04000600012006000800012008000a0001240a000c0001240c000e0001250e001000012510001200012712001400012714001600012416001800012418001a0001201a001c0001201c001e00011e1e002000011e20002200011d22002400011d24002600012026002800012028002a0001242a002c0001242c002e0001252e003000012530003200012732003400012734003600012436003800012438003a0001203a003c0001203c003e00011e3e004000011e06001c00010a006400f4016400000400000000000000000000000000000000025a0004000600012c08000c0001290c000e00012c10001400012914001800012c18001c0001291c002000012c20002400012924002800012c28002c0001292c003000012c30003400012934003800012c38003c0001293c004000012c`), music.PlaybackMode.LoopingInBackground)
            Null.sayText("4x+5x=36", 2000, false)
            mySprite.sayText("4x+5x=36")
        } else if (state == 3) {
            for (let index = 0; index <= 3; index++) {
                tiles.setWallAt(tiles.getTileLocation(90, index + 2), false)
                tiles.setTileAt(tiles.getTileLocation(90, index + 2), assets.tile`transparency16`)
                tiles.setTileAt(tiles.getTileLocation(88, index + 2), assets.tile`transparency16`)
                tiles.setTileAt(tiles.getTileLocation(87, index + 2), assets.tile`transparency16`)
            }
            Null.vx = 50
            music.stopAllSounds()
            music.play(music.createSong(hex`0082000408020302001c000c960064006d019001000478002c010000640032000000000a0600050c0010001400011930003400011904001c00100500640000041e000004000000000000000000000000000a040004c00000000200011d02000400011d04000600012006000800012008000a0001240a000c0001240c000e0001250e001000012510001200012712001400012714001600012416001800012418001a0001201a001c0001201c001e00011e1e002000011e20002200011d22002400011d24002600012026002800012028002a0001242a002c0001242c002e0001252e003000012530003200012732003400012734003600012436003800012438003a0001203a003c0001203c003e00011e3e004000011e06001c00010a006400f4016400000400000000000000000000000000000000025a0004000600012c08000c0001290c000e00012c10001400012914001800012c18001c0001291c002000012c20002400012924002800012c28002c0001292c003000012c30003400012934003800012c38003c0001293c004000012c`), music.PlaybackMode.LoopingInBackground)
            Null.sayText("x^2+8=57", 2000, false)
            mySprite.sayText("x^2+8=57")
        } else if (state == 4) {
            for (let index = 0; index <= 3; index++) {
                tiles.setWallAt(tiles.getTileLocation(139, index + 2), false)
                tiles.setTileAt(tiles.getTileLocation(139, index + 2), assets.tile`transparency16`)
                tiles.setTileAt(tiles.getTileLocation(137, index + 2), assets.tile`transparency16`)
                tiles.setTileAt(tiles.getTileLocation(136, index + 2), assets.tile`transparency16`)
            }
            tiles.placeOnTile(key4, tiles.getTileLocation(139, 5))
            tiles.placeOnTile(Null, tiles.getTileLocation(132, 5))
            mySprite.sayText("Wohoo", 500, false)
            Null.vx = 0
            Null.sayText("NOOOOOOOOOOOOOOOO")
            sprites.destroy(Null, effects.disintegrate, 5000)
            music.stopAllSounds()
            music.play(music.createSong(hex`0078000408010202001c000c960064006d019001000478002c010000640032000000000a0600051e0000000400011908000c00011d10001400011d18001c0001201c002000011909010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c8001e000000010001020800090001041000110001041800190001061c001d000102`), music.PlaybackMode.LoopingInBackground)
        }
    }
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Shark, function (sprite, otherSprite) {
    sprites.destroy(otherSprite, effects.bubbles, 100)
    sprites.destroy(sprite)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Boss, function (sprite, otherSprite) {
    music.stopAllSounds()
    music.play(music.melodyPlayable(music.wawawawaa), music.PlaybackMode.InBackground)
    game.setGameOverMessage(false, "GAME OVER!")
    game.gameOver(false)
})
let Currentanimation = 0
let shark: Sprite = null
let Null: Sprite = null
let jumpcounter = 0
let apple: Sprite = null
let lever: Sprite = null
let levers: Sprite[] = []
let key4: Sprite = null
let platformBad: Sprite = null
let platformgood: Sprite = null
let wrongPlat: Sprite[] = []
let rightPlat: Sprite[] = []
let key3: Sprite = null
let key2: Sprite = null
let resulttiles3: tiles.Location[] = []
let result3: Sprite = null
let resulttiles2: tiles.Location[] = []
let result2: Sprite = null
let result1tiles: tiles.Location[] = []
let result1: Sprite = null
let Allresult3: Sprite[] = []
let Allresult2: Sprite[] = []
let Allresult1: Sprite[] = []
let Results3: Image[] = []
let Results2: Image[] = []
let Results1: Image[] = []
let key1: Sprite = null
let projectile: Sprite = null
let canShoot = 0
let heldItem: Sprite = null
let state = 0
let isHolding = false
let canPick = false
let level = 0
let mySprite: Sprite = null
scene.setBackgroundColor(8)
game.setDialogFrame(img`
    . . . . . . . . 
    . . . . . . . . 
    . . . . . . . . 
    . . . . . . . . 
    . . . . . . . . 
    . . . . . . . . 
    . . . . . . . . 
    . . . . . . . . 
    `)
game.setDialogCursor(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `)
game.setDialogTextColor(0)
game.splash("Taltyven Null 00")
game.showLongText("Matematikbyen er i kaos! Taltyven Null har stjlet de fire Talngler og lst alle byens tal inde.", DialogLayout.Full)
game.splash("Du er helten, der skal rejse gennem Gangevrket, Hajstrmmen, Ildhallen og Ligningstrnet for at hente dem tilbage.")
game.splash("Men pas p. Du har kun 10 minutter til at klare hver bane, og kun 3 liv! Et forkert svar eller for meget spildtid kan koste dig alt.")
game.splash("Til sidst venter Null selv. Besejr ham i tre runder, og bring tallene tilbage til Matematikbyen.")
game.splash("Bliv den sande Matematikmester!")
mySprite = sprites.create(img`
    . . . f f f f f f f f . . . . . 
    . . f 2 2 2 2 2 2 2 2 f . . . . 
    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
    f f f f f f f f f f f f f f f f 
    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
    . f 4 4 4 4 4 4 f f 4 4 f . . . 
    . . f 4 4 4 4 4 4 4 4 f . . . . 
    . . . f 4 4 4 4 2 2 f . . . . . 
    . . . f f f f f f f f . . . . . 
    . . . . . f 4 4 f . . . . . . . 
    . 4 4 f f 2 2 2 2 f f 4 4 . . . 
    . . . f 2 2 5 5 2 2 f . . . . . 
    . f f f f f f f f f f f f . . . 
    . f c c c f . . f c c c f . . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 50, 0)
mySprite.setStayInScreen(true)
mySprite.ay = 100
mySprite.z = 100
level = 1
canPick = true
isHolding = false
state = 0
info.setScore(0)
createLevel()
game.onUpdateInterval(1000, function () {
    if (level == 2) {
        shark = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . f f f . . . . . 
            . . . . . . . f f f . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . . f f f f . . . . . . f 
            . . . f f f f f f f f f . . . f 
            . f f f f f f f f f f f f . f f 
            f f f 1 2 f f f f f f f f f f f 
            f f f 2 2 f f f f f f f f f f f 
            f f f f f f f f f f f f f f f f 
            . 2 2 f 1 1 1 1 1 1 f f f . f f 
            . . f 1 1 1 1 1 1 1 1 f . . f f 
            . . . f f f f f f f f . . . . f 
            . . . . f f . f f f . . . . . f 
            . . . . . f . . f f . . . . . . 
            . . . . . . . . . f . . . . . . 
            `, SpriteKind.Shark)
        shark.setPosition(scene.cameraProperty(CameraProperty.Right) + 320, randint(scene.cameraProperty(CameraProperty.Bottom) + 160, scene.cameraProperty(CameraProperty.Top) - 100))
        shark.setVelocity(-50, 0)
        shark.setFlag(SpriteFlag.GhostThroughTiles, true)
        shark.setFlag(SpriteFlag.GhostThroughWalls, true)
    }
})
forever(function () {
    if (level == 2) {
        if (controller.left.isPressed()) {
            if (Currentanimation != 1) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . . . f f f f f f f f . . . 
                    . . . . f d d d d d d d d f . . 
                    . . . f d d d d d d d d d d f . 
                    . . f d d d d d d d d d d d d f 
                    . . f d d f f f d d d d d d f f 
                    . . . f f f 1 f d d d d d d f . 
                    . . . f d f 8 f d d d d d d f . 
                    . . . f d d f f d d d d d d f . 
                    . . . . f f d d d d d d d f . . 
                    . . . d d d f d d d d d f . . . 
                    . . . d . f f f f f f f f . . . 
                    . . . d d d d f 4 4 f d . . . . 
                    . . . 4 4 f f f f f f f f 4 4 . 
                    . . . . . f f f 5 5 f f f . . . 
                    . . . f f f f f f f f f f f f . 
                    . . . f c c c f . . f c c c f . 
                    `,img`
                    . . . . . f f f f f f f f . . . 
                    . . . . f d d d d d d d d f . . 
                    . . . f d d d d d d d d d d f . 
                    . . f d d d d d d d d d d d d f 
                    . . f d d f f f d d d d d d f f 
                    . . . f f f 1 f d d d d d d f . 
                    . . . f d f 8 f d d d d d d f . 
                    . . . f d d f f d d d d d d f . 
                    . . . . f f d d d d d d d f . . 
                    . . . d d d f d d d d d f . . . 
                    . . . d . f f f f f f f f . . . 
                    . . . d d d d f 4 4 f d . . . . 
                    . . . . . f f f f f f f f . . . 
                    . . . 4 4 f f f 5 5 f f f 4 4 . 
                    . . . f f f f f f f f f f f f . 
                    . . . f c c c f . . f c c c f . 
                    `],
                200,
                true
                )
                Currentanimation = 1
            }
        } else if (controller.right.isPressed()) {
            if (Currentanimation != 2) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . f f f f f f f f . . . . . 
                    . . f d d d d d d d d f . . . . 
                    . f d d d d d d d d d d f f . . 
                    f d d d d d d d d d d d d f . . 
                    f f d d d d d d f f f d d f . . 
                    . f d d d d d d f 1 f f f . . . 
                    . f d d d d d d f 8 f d f . . . 
                    . f d d d d d d f f d d f . . . 
                    . . f d d d d d d d f f . . . . 
                    . . . f d d d d d f d d d . . . 
                    . . . f f f f f f f f . d . . . 
                    . . . . d f 4 4 f d d d d . . . 
                    . 4 4 f f f f f f f f 4 4 . . . 
                    . . . f f f 5 5 f f f . . . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `,img`
                    . . . f f f f f f f f . . . . . 
                    . . f d d d d d d d d f . . . . 
                    . f d d d d d d d d d d f f . . 
                    f d d d d d d d d d d d d f . . 
                    f f d d d d d d f f f d d f . . 
                    . f d d d d d d f 1 f f f . . . 
                    . f d d d d d d f 8 f d f . . . 
                    . f d d d d d d f f d d f . . . 
                    . . f d d d d d d d f f . . . . 
                    . . . f d d d d d f d d d . . . 
                    . . . f f f f f f f f . d . . . 
                    . . . . d f 4 4 f d d d d . . . 
                    . . . f f f f f f f f . . . . . 
                    . 4 4 f f f 5 5 f f f 4 4 . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `],
                200,
                true
                )
                Currentanimation = 2
            }
        } else {
            if (mySprite.vy == 0) {
                animation.stopAnimation(animation.AnimationTypes.All, mySprite)
                Currentanimation = 0
            }
        }
    } else if (level == 1) {
        if (controller.left.isPressed()) {
            if (Currentanimation != 1) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . . . f f f f f f f f . . . 
                    . . . . f 2 2 2 2 2 2 2 2 f . . 
                    f f f f 2 2 2 2 2 2 2 2 2 2 f . 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . . . f 4 f 1 f 4 4 4 4 4 4 f . 
                    . . . f 4 f 8 f 4 4 4 4 4 4 f . 
                    . . . f 4 4 f f 4 4 4 4 4 4 f . 
                    . . . . f 4 4 4 4 4 4 4 4 f . . 
                    . . . . . f 2 2 4 4 4 4 f . . . 
                    . . . . . f f f f f f f f . . . 
                    . . . . . . . f 4 4 f . . . . . 
                    . . . 4 4 f f 2 2 2 2 f f 4 4 . 
                    . . . . . f 2 2 5 5 2 2 f . . . 
                    . . . f f f f f f f f f f f f . 
                    . . . f c c c f . . f c c c f . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . f f f f f f f f . . . 
                    . . . . f 2 2 2 2 2 2 2 2 f . . 
                    f f f f 2 2 2 2 2 2 2 2 2 2 f . 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . . . f 4 f 1 f 4 4 4 4 4 4 f . 
                    . . . f 4 f 8 f 4 4 4 4 4 4 f . 
                    . . . f 4 4 f f 4 4 4 4 4 4 f . 
                    . . . . f 4 4 4 4 4 4 4 4 f . . 
                    . . . . . f 2 2 4 4 4 4 f . . . 
                    . . . . . . f f f f f f . . . . 
                    . . . . . f f 2 2 2 2 f f . . . 
                    . . . 4 4 f 2 2 5 5 2 2 f 4 4 . 
                    . . . f f f f f f f f f f f f . 
                    . . . f c c c f . . f c c c f . 
                    `],
                200,
                true
                )
                Currentanimation = 1
            }
        } else if (controller.right.isPressed()) {
            if (Currentanimation != 2) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . f f f f f f f f . . . . . 
                    . . f 2 2 2 2 2 2 2 2 f . . . . 
                    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
                    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
                    . f 4 4 4 4 4 4 f f 4 4 f . . . 
                    . . f 4 4 4 4 4 4 4 4 f . . . . 
                    . . . f 4 4 4 4 2 2 f . . . . . 
                    . . . f f f f f f f f . . . . . 
                    . . . . . f 4 4 f . . . . . . . 
                    . 4 4 f f 2 2 2 2 f f 4 4 . . . 
                    . . . f 2 2 5 5 2 2 f . . . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . f f f f f f f f . . . . . 
                    . . f 2 2 2 2 2 2 2 2 f . . . . 
                    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
                    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
                    . f 4 4 4 4 4 4 f f 4 4 f . . . 
                    . . f 4 4 4 4 4 4 4 4 f . . . . 
                    . . . f 4 4 4 4 2 2 f . . . . . 
                    . . . . f f f f f f . . . . . . 
                    . . . f f 2 2 2 2 f f . . . . . 
                    . 4 4 f 2 2 5 5 2 2 f 4 4 . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `],
                200,
                true
                )
                Currentanimation = 2
            }
        } else if (controller.A.isPressed() && mySprite.vx == 0) {
            if (Currentanimation != 3) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . f f f f f f f f . . . . . 
                    . . f 2 2 2 2 2 2 2 2 f . . . . 
                    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
                    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
                    . f 4 4 4 4 4 4 f f 4 4 f . . . 
                    . . f 4 4 4 4 4 4 4 4 f . . . . 
                    . . . f 4 4 4 4 2 2 f . . . . . 
                    . . . f f f f f f f f . . . . . 
                    . . . . . f 4 4 f . . . . . . . 
                    . 4 4 f f 2 2 2 2 f f 4 4 . . . 
                    . . . f 2 2 5 5 2 2 f . . . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `,img`
                    . . . f f f f f f f f . . . . . 
                    . . f 2 2 2 2 2 2 2 2 f . . . . 
                    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
                    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
                    . f 4 4 4 4 4 4 f f 4 4 f . . . 
                    . . f 4 4 4 4 4 4 4 4 f . . . . 
                    . . . f 4 4 4 4 2 2 f . . . . . 
                    . . . f f f f f f f f . . . . . 
                    . . 4 . . f 4 4 f . . 4 . . . . 
                    . . 4 f f 2 2 2 2 f f 4 . . . . 
                    . . . f 2 2 5 5 2 2 f . . . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `],
                200,
                false
                )
                Currentanimation = 3
            }
        } else {
            if (Currentanimation != 0) {
                animation.stopAnimation(animation.AnimationTypes.All, mySprite)
                Currentanimation = 0
            }
        }
    } else if (level == 3 || level == 4) {
        if (controller.left.isPressed()) {
            if (Currentanimation != 1) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . . . f f f f f f f f . . . 
                    . . . . f 2 2 2 2 2 2 2 2 f . . 
                    f f f f 2 2 2 2 2 2 2 2 2 2 f . 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . . . f 4 f 1 f 4 4 4 4 4 4 f . 
                    . . . f 4 f 8 f 4 4 4 4 4 4 f . 
                    . . . f 4 4 f f 4 4 4 4 4 4 f . 
                    . . . . f 4 4 4 4 4 4 4 4 f . . 
                    . . . . . f 2 2 4 4 4 4 f 2 2 2 
                    . . . . . . f f f f f f 2 2 2 2 
                    . . . . . . . f 4 4 f 2 2 2 2 2 
                    . . . 4 4 f f 2 2 2 2 f f 4 4 . 
                    . . . . . f 2 2 5 5 2 2 f . . . 
                    . . . f f f f f f f f f f f f . 
                    . . . f c c c f . . f c c c f . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . f f f f f f f f . . . 
                    . . . . f 2 2 2 2 2 2 2 2 f . . 
                    f f f f 2 2 2 2 2 2 2 2 2 2 f . 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . . . f 4 f 1 f 4 4 4 4 4 4 f . 
                    . . . f 4 f 8 f 4 4 4 4 4 4 f . 
                    . . . f 4 4 f f 4 4 4 4 4 4 f . 
                    . . . . f 4 4 4 4 4 4 4 4 f . . 
                    . . . . . f 2 2 4 4 4 4 f 2 2 2 
                    . . . . . . f f f f f f 2 2 2 2 
                    . . . 4 4 f f 2 2 2 2 f f 4 4 2 
                    . . . . . f 2 2 5 5 2 2 f . . . 
                    . . . f f f f f f f f f f f f . 
                    . . . f c c c f . . f c c c f . 
                    `],
                200,
                true
                )
                Currentanimation = 1
            }
        } else if (controller.right.isPressed()) {
            if (Currentanimation != 2) {
                animation.runImageAnimation(
                mySprite,
                [img`
                    . . . f f f f f f f f . . . . . 
                    . . f 2 2 2 2 2 2 2 2 f . . . . 
                    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
                    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
                    . f 4 4 4 4 4 4 f f 4 4 f . . . 
                    . . f 4 4 4 4 4 4 4 4 f . . . . 
                    2 2 2 f 4 4 4 4 2 2 f . . . . . 
                    2 2 2 2 f f f f f f . . . . . . 
                    2 2 2 2 2 f 4 4 f . . . . . . . 
                    . 4 4 f f 2 2 2 2 f f 4 4 . . . 
                    . . . f 2 2 5 5 2 2 f . . . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . f f f f f f f f . . . . . 
                    . . f 2 2 2 2 2 2 2 2 f . . . . 
                    . f 2 2 2 2 2 2 2 2 2 2 f f f f 
                    f 2 2 2 2 2 2 2 2 2 2 2 2 2 2 f 
                    f f f f f f f f f f f f f f f f 
                    . f 4 4 4 4 4 4 f 1 f 4 f . . . 
                    . f 4 4 4 4 4 4 f 8 f 4 f . . . 
                    . f 4 4 4 4 4 4 f f 4 4 f . . . 
                    . . f 4 4 4 4 4 4 4 4 f . . . . 
                    2 2 2 f 4 4 4 4 2 2 f . . . . . 
                    2 2 2 2 f f f f f f . . . . . . 
                    2 4 4 f f 2 2 2 2 f f 4 4 . . . 
                    . . . f 2 2 5 5 2 2 f . . . . . 
                    . f f f f f f f f f f f f . . . 
                    . f c c c f . . f c c c f . . . 
                    `],
                200,
                true
                )
                Currentanimation = 2
            }
        } else {
            if (Currentanimation != 0) {
                animation.stopAnimation(animation.AnimationTypes.All, mySprite)
                Currentanimation = 0
            }
        }
    }
})
forever(function () {
    if (mySprite.vy == 0) {
        jumpcounter = 0
    }
})
forever(function () {
    if (info.countdown() == 0) {
        game.gameOver(false)
        game.setGameOverMessage(false, "GAME OVER!")
        music.play(music.melodyPlayable(music.wawawawaa), music.PlaybackMode.InBackground)
    }
})
forever(function () {
    if (isHolding == true) {
        heldItem.setPosition(mySprite.x - 10, mySprite.y)
    }
})
forever(function () {
    if (mySprite.tileKindAt(TileDirection.Bottom, assets.tile`myTile65`)) {
        mySprite.vy = -50
        info.changeLifeBy(-1)
    }
})
